<div>
    <sl-input-dialog></sl-input-dialog>
    <sl-output-dialog></sl-output-dialog>
    <sl-common-templates></sl-common-templates>
    <sl-confirm-dialog></sl-confirm-dialog>
    <div class="button-container">
        <button type="button" class="btn btn-primary" (click)="add(serviceType.Classifier)">Add Classifier</button>
        <button type="button" class="btn btn-primary" (click)="add(serviceType.Prc)">Add Prc</button>
    </div>
    <br role="separator" class="divider">
    <div *ngIf="services && services.length">
        <table class="table table-striped table-hover" contextmenu="contextmenu" style="overflow-y: auto; overflow-x: auto; height: 80%">
            <thead>
                <tr>
                    <th></th>
                    <th>Alias</th>
                    <th>Name</th>
                    <th>Id</th>
                    <th>Description</th>
                    <th>Type</th>
                    <th>Status</th>
                    <th>
                        <a class="btn" (click)="refresh()">
                            <i class="fa fa-refresh" aria-hidden="true"></i>
                        </a>
                    </th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody *vsFor="services; tagName:'tr'; scrollParent:'div'; excess: 2; autoresize:true; let _items = vsCollection; let _startIndex = vsStartIndex">
                <tr *ngFor="let service of _items; let i = index">
                    <td>{{ i + _startIndex + 1}}</td>
                    <td>{{ service.Alias }}</td>
                    <td>{{ service.Name }}</td>
                    <td>{{ service.Id }}</td>
                    <td>{{ service.Description }}</td>
                    <td>{{ service.Type }}</td>
                    <td>{{ service.Status }}</td>
                    <td>
                        <a class="btn" (click)="refresh(service)">
                            <i class="fa fa-refresh" aria-hidden="true"></i>
                        </a>
                    </td>
                    <td>
                        <!--<div [ngSwitch]="service.Status">
                            <button md-icon-button [md-menu-trigger-for]="menu">
                                <md-icon>more_vert</md-icon>
                            </button>
                            <md-menu #menu="mdMenu" x-position="before" *ngSwitchCase="serviceStatus.New">
                                <button md-menu-item (click)="details(service)">Details</button>
                                <button md-menu-item (click)="prepare(service)">Prepare</button>
                                <button md-menu-item (click)="deleteConfirm(service)">Delete</button>
                            </md-menu>
                            <md-menu #menu="mdMenu" x-position="before" *ngSwitchCase="serviceStatus.Busy">
                                <button md-menu-item (click)="details(service)">Details</button>
                                <button md-menu-item (click)="cancelConfirm(service)">Cancel</button>
                                <button md-menu-item (click)="deleteConfirm(service)">Delete</button>
                            </md-menu>
                            <md-menu #menu="mdMenu" x-position="before" *ngSwitchCase="serviceStatus.Prepared">
                                <button md-menu-item (click)="details(service)">Details</button>
                                <button md-menu-item (click)="activate(service)">Activate</button>
                                <button md-menu-item (click)="export(service)">Export Dictionaries</button>
                                <button md-menu-item (click)="deleteConfirm(service)">Delete</button>
                            </md-menu>
                            <md-menu #menu="mdMenu" x-position="before" *ngSwitchCase="serviceStatus.Active">
                                <button md-menu-item (click)="details(service)">Details</button>
                                <button md-menu-item (click)="deactivateConfirm(service)">Deactivate</button>
                                <button md-menu-item (click)="recommend(service)">Recommend</button>
                                <button md-menu-item *ngIf="service.Type==serviceType.Prc" (click)="index(service)">Index</button>
                                <button md-menu-item *ngIf="service.Type==serviceType.Prc && service.IndexSettings" (click)="partialIndex(service)">PartialIndex</button>
                                <button md-menu-item *ngIf="service.Type==serviceType.Prc && service.IndexSettings" (click)="recommendById(service)">RecommendById</button>
                                <button md-menu-item (click)="export(service)">Export Dictionaries</button>
                                <button md-menu-item (click)="deleteConfirm(service)">Delete</button>
                            </md-menu>
                            <md-menu #menu="mdMenu" *ngSwitchDefault>
                            </md-menu>
                        </div>-->
                        <div class="btn-group">
                            <div ngbDropdown class="dropdown" [ngSwitch]="service.Status">
                                <button ngbDropdownToggle class="btn btn-default btn-sm dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown"
                                    aria-haspopup="true" aria-expanded="true">
                                        Actions
                                        <span class="caret"></span>
                                </button>
                                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenu1" *ngSwitchCase="serviceStatus.New">
                                    <li><a (click)="details(service)">Details</a></li>
                                    <li><a (click)="prepare(service)">Prepare</a></li>
                                    <li><a (click)="deleteConfirm(service)">Delete</a></li>
                                </ul>
                                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenu1" *ngSwitchCase="serviceStatus.Busy">
                                    <li><a (click)="details(service)">Details</a></li>
                                    <li><a (click)="cancelConfirm(service)">Cancel</a></li>
                                    <li><a (click)="deleteConfirm(service)">Delete</a></li>
                                </ul>
                                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenu1" *ngSwitchCase="serviceStatus.Prepared">
                                    <li><a (click)="details(service)">Details</a></li>
                                    <li><a (click)="activate(service)">Activate</a></li>
                                    <li><a (click)="export(service)">Export Dictionaries</a></li>
                                    <li><a (click)="deleteConfirm(service)">Delete</a></li>
                                </ul>
                                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenu1" *ngSwitchCase="serviceStatus.Active">
                                    <li><a (click)="details(service)">Details</a></li>
                                    <li><a (click)="deactivateConfirm(service)">Deactivate</a></li>
                                    <li><a (click)="recommend(service)">Recommend</a></li>
                                    <li *ngIf="service.Type==serviceType.Prc"><a (click)="index(service)">Index</a></li>
                                    <li *ngIf="service.Type==serviceType.Prc && service.IndexSettings"><a (click)="partialIndex(service)">PartialIndex</a></li>
                                    <li *ngIf="service.Type==serviceType.Prc && service.IndexSettings"><a (click)="recommendById(service)">RecommendById</a></li>
                                    <li><a (click)="export(service)">Export Dictionaries</a></li>
                                    <li><a (click)="deleteConfirm(service)">Delete</a></li>
                                </ul>
                            </div>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>