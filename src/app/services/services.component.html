<div>
    <input-dialog></input-dialog>
    <output-dialog></output-dialog>
    <CommonTemplates></CommonTemplates>
    <div class="button-container">
        <button type="button" class="btn btn-default" (click)="add(serviceType.Classifier)">Add Classifier</button>
        <button type="button" class="btn btn-default" (click)="add(serviceType.Prc)">Add Prc</button>
    </div>
    <br role="separator" class="divider">
    <div *ngIf="services && services.length">
        <table class="table table-striped table-hover" contextmenu="contextmenu">
            <thead>
                <tr>
                    <th>Alias</th>
                    <th>Name</th>
                    <th>Id</th>
                    <th>Description</th>
                    <th>Type</th>
                    <th>Status</th>
                    <th>
                        <a class="btn" (click)="refresh()">
                            <i class="fa fa-refresh" aria-hidden="true"></i>
                        </a>
                    </th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let service of services">
                    <td>{{ service.Alias }}</td>
                    <td>{{ service.Name }}</td>
                    <td>{{ service.Id }}</td>
                    <td>{{ service.Description }}</td>
                    <td>{{ service.Type }}</td>
                    <td>{{ service.Status }}</td>
                    <td>
                        <a class="btn" (click)="refresh(service)">
                            <i class="fa fa-refresh" aria-hidden="true"></i>
                        </a>
                    </td>
                    <td>
                        <div class="btn-group">
                            <div ngbDropdown class="dropdown" [ngSwitch]="service.Status">
                                <button ngbDropdownToggle class="btn btn-default btn-sm dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown"
                                    aria-haspopup="true" aria-expanded="true">
                                        Actions
                                        <span class="caret"></span>
                                </button>
                                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenu1" *ngSwitchCase="serviceStatus.New">
                                    <li><a (click)="details(service)">Details</a></li>
                                    <li><a (click)="prepare(service)">Prepare</a></li>
                                    <li><a (click)="delete(service)">Delete</a></li>
                                </ul>
                                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenu1" *ngSwitchCase="serviceStatus.Busy">
                                    <li><a (click)="details(service)">Details</a></li>
                                    <li><a (click)="cancel(service)">Cancel</a></li>
                                    <li><a (click)="delete(service)">Delete</a></li>
                                </ul>
                                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenu1" *ngSwitchCase="serviceStatus.Prepared">
                                    <li><a (click)="details(service)">Details</a></li>
                                    <li><a (click)="activate(service)">Activate</a></li>
                                    <li><a (click)="export(service)">Export</a></li>
                                    <li><a (click)="delete(service)">Delete</a></li>
                                </ul>
                                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenu1" *ngSwitchCase="serviceStatus.Active">
                                    <li><a (click)="details(service)">Details</a></li>
                                    <li><a (click)="deactivate(service)">Deactivate</a></li>
                                    <li><a (click)="recommend(service)">Recommend</a></li>
                                    <li *ngIf="service.Type==serviceType.Prc"><a (click)="index(service)">Index</a></li>
                                    <li *ngIf="service.Type==serviceType.Prc && service.IndexSettings"><a (click)="partialIndex(service)">PartialIndex</a></li>
                                    <li *ngIf="service.Type==serviceType.Prc && service.IndexSettings"><a (click)="recommendById(service)">RecommendById</a></li>
                                    <li><a (click)="export(service)">Export</a></li>
                                    <li><a (click)="delete(service)">Delete</a></li>
                                </ul>
                            </div>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>